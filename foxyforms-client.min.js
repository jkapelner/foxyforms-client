/*! foxyforms-client 2014-03-17 */
!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),(b.foxyformsClient||(b.foxyformsClient={})).js=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({EkpMeO:[function(a,b,c){var d="foxyforms_",e=a("./validators.js"),f=!1,g=function(a,b,c,d){var e="on"+b;if(a.addEventListener)a.addEventListener(b,function(b){a.event=b?b:window.event,c.apply(a,d)},!1);else if(a.attachEvent)a.attachEvent(e,function(b){a.event=b?b:window.event,c.apply(a,d)});else{var f=a[e];a[e]="function"!=typeof a[e]?function(b){a.event=b?b:window.event,c.apply(a,d)}:function(b){f&&f(),a.event=b?b:window.event,c.apply(a,d)}}},h=function(a,b){g(window,"load",a,b)},i=function(a,b,c,d){if(a&&"string"==typeof a){var e=document.getElementById(a);if(e)return g(e,b,c,d),e}return null},j=function(a){if("string"==typeof a&&(a={id:a}),"object"==typeof a&&a.id){var b=document.getElementById(a.id);if(b){if("undefined"==typeof a.required&&(a.required=b.getAttributeNode(d+"required")?!0:b.getAttributeNode("required")?!0:!1),a.value=b.value,"undefined"==typeof a.type&&(a.type=b.getAttribute(d+"type"),!a.type)){var c=b.getAttribute("type");switch(c){case"phone":case"phoneNA":case"tel":a.type="phone";break;case"email":a.type=c}}if("undefined"==typeof a.errorMessage){var e=b.getAttribute(d+"error_message");e?a.errorMessage=e:(e=b.getAttribute("title"),e&&(a.errorMessage=e))}}}return a},k=function(){},l=function(){},m=function(a,b,c){for(var d=null,e=0;e<a.length;e++){var f=a[e],g=document.getElementById(f.id);g&&(g.value=f.value,b&&(f.result?f.onSuccess&&"function"==typeof f.onSuccess?f.onSuccess(g):b.onFieldSuccess&&"function"==typeof b.onFieldSuccess?b.onFieldSuccess(g):l(g):(f.onError&&"function"==typeof f.onError?f.onError(f.error,g):b.onFieldError&&"function"==typeof b.onFieldError?b.onFieldError(f.error,g):k(f.error,g),!d&&c&&(d=g,d.focus()))))}};c.postProcess=function(a){m(a)},c.parse=function(a,b){if("object"==typeof a)for(var c=0;c<a.length;c++)a[c]=j(a[c]);else if("string"==typeof a){var d=a,e=document.getElementById(d);if(a=[],e){var f=[];"input"==e.nodeName.toLowerCase()?f.push(e):f=e.getElementsByTagName("input");for(var c=0;c<f.length;c++){var d=f[c].getAttribute("id");if(d){var g=j(d);g.type&&b.isTypeSupported(g.type)&&a.push(g)}}}}return a},c.init=function(a,b){f||(e.update(b),a&&"object"==typeof a&&h(function(a){for(var d=0;d<a.length;d++){var e=a[d];if(e&&"object"==typeof e&&e.id){var f=e.id,g="submit";if(e.buttonId&&(f=e.buttonId,g="click"),e.fields||(e.fields=e.id),e.fields=c.parse(e.fields,b),i(f,g,function(a){this.event&&(this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1),b.verify(a.fields,function(b,c){var d=document.getElementById(a.id);m(c,a,!0),b?a.onError&&"function"==typeof a.onError&&a.onError(b,d):a.onSuccess&&"function"==typeof a.onSuccess?a.onSuccess(d):d&&d.submit()})},[e]),e.enableOnBlurEvents)for(var h=0;h<e.fields.length;h++){var j=e.fields[h];i(j.id,"blur",function(a,c){b.verify([c],function(b,c){m(c,a,!1)})},[e,j])}}}},[a]),intialized=!0)}},{"./validators.js":5}],"./lib/node/form":[function(a,b){b.exports=a("EkpMeO")},{}],"BX/C5g":[function(a,b,c){var d=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}(),e=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],b=0;b<a.length;b++)try{var c=new window.ActiveXObject(a[b]);return function(){if(c){var d=c;return c=null,d}return new window.ActiveXObject(a[b])}}catch(d){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();c.request=function(a,b,c){try{if("object"!=typeof a)return void c("options object is required");var f,g=a.method?a.method:"GET",h=a.scheme+"://"+a.host+":"+a.port.toString()+a.path;if(8>d)c("Internet Explorer "+d.toString()+" is not supported");else if(8===d||9===d){var i=new XDomainRequest;i?(i.onerror=function(){c("XDomainRequest error")},i.ontimeout=function(){c("XDomainRequest timed out")},i.onload=function(){c(null,i.responseText)},i.timeout=1e4,i.open(g,h),i.send(b)):c("XDomainRequest undefined")}else{if(f=new e,f.open(g,h,!0),a.headers)for(var j in a.headers)f.setRequestHeader(j,a.headers[j]);f.send(b),f.onreadystatechange=function(){4==f.readyState&&(200==f.status?c(null,f.responseText):c("XMLHttpRequest error status: "+f.status))}}}catch(k){c(k.message)}}},{}],"./lib/node/http-client":[function(a,b){b.exports=a("BX/C5g")},{}],5:[function(a,b,c){c.update=function(a){window.jQuery&&!function(b){b.validator&&(b.extend(b.validator,{addAsyncMethod:function(a,c,d){b.validator.addMethod(a,function(d,e,f){if(this.optional(e))return"dependency-mismatch";var g=this.previousValue(e);if(this.settings.messages[e.name]||(this.settings.messages[e.name]={}),g.originalMessage=this.settings.messages[e.name][a],this.settings.messages[e.name][a]=g.message,g.old===d)return g.valid;g.old=d;var h=this;this.startRequest(e);var i={};return i[e.name]=d,c(d,e,function(c){h.settings.messages[e.name][a]=g.originalMessage;var f=c?!1:!0;if(f){var i=h.formSubmitted;h.prepareElement(e),h.formSubmitted=i,h.successList.push(e),delete h.invalid[e.name],h.showErrors()}else{var j={},k=c||h.defaultMessage(e,a);j[e.name]=g.message=b.isFunction(k)?k(d):k,h.invalid[e.name]=!0,h.showErrors(j)}g.valid=f,h.stopRequest(e,f)},f),"pending"},d)}}),b.validator.addAsyncMethod("email",function(b,c,d){a.verify([c.id],function(a,b){var c=b[0].result?null:b[0].error.message;d(c)},"Please enter a valid email address.")}),b.validator.addAsyncMethod("phoneNA",function(b,c,d){a.verify([c.id],function(a,b){var c=b[0].result?null:b[0].error.message;d(c)},"Please enter a valid phone number.")}),b.validator.addAsyncMethod("tel",function(b,c,d){a.verify([c.id],function(a,b){var c=b[0].result?null:b[0].error.message;d(c)},"Please enter a valid phone number.")})),b.validationEngine&&(a.jQueryValidateEngineHandler=function(b,c,d,e,f){a.verify([b.attr("id")],function(a,b){f(b[0].result,b[0].error?b[0].error.message:null)})})}(window.jQuery)}},{}],6:[function(a,b,c){var d=!1,e={cleanInputs:!0,ignoreServerErrors:!1},f={host:"verifly.bloatie.com",port:80,sslPort:443,path:"/verify",loginPath:"/verify/login"},g=a("validator"),h=a("./lib/node/http-client"),i=a("./lib/node/form");c.errorCodes={main:{badData:{code:300,message:"Invalid data passed to API"},badLogin:{code:302,message:"Invalid API login"},badToken:{code:303,message:"Invalid API token"},notValid:{code:304,message:"Validation failed"},required:{code:305,message:"Field is required"},serverComm:{code:500,message:"Unable to communicate with verification server"},serverData:{code:501,message:"Server returned bad data"},internal:{code:502,message:"Internal server error occurred"}},phone:{badType:{code:400,message:"Invalid data type passed - must be a string or number"},badFormat:{code:401,message:"Data entered is not a valid phone number - must be 10 digits"},notValid:{code:402,message:"Phone number is invalid"},wrongCountry:{code:403,message:"Phone number doesn't match the specified countries"},tollFree:{code:404,message:"Phone number is a toll-free number, which is not allowed"}},email:{badType:{code:400,message:"Invalid data type passed - must be a string"},badFormat:{code:401,message:"Data entered is not a valid email address"},noMxRecords:{code:402,message:"No MX Records found for domain"},noResponse:{code:403,message:"Mail server failed to respond"},notValid:{code:404,message:"Email address rejected by mail server"}}};var j=function(a){if("object"==typeof a)for(var b in a)e[b]=a[b]},k=function(a){for(var b=[],c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else for(var d=encodeURIComponent(a.charAt(c)).substr(1).split("%"),e=0;e<d.length;e++)b.push(parseInt(d[e],16));return b.length},l=function(a,b,d){var e=JSON.stringify(b);a.method="POST",a.headers={"Content-Type":"application/json","Content-Length":k(e)},h.request(a,e,function(a,b){if(a){var e=c.errorCodes.main.serverComm;e.reason=a,d({result:!1,error:e})}else{var f=JSON.parse(b);d(f?f:{result:!1,error:c.errorCodes.main.serverData})}})},m={phone:function(a){var b=typeof a;if("number"===b)a=a.toString();else if("string"!==b)return{result:!1,error:c.errorCodes.phone.badType};return e.cleanInputs&&(a=a.replace(/[\s\(\)-]/g,""),1==a[0]&&(a=a.substr(1))),10!=a.length||a.match(/[^0-9]/)?{result:!1,error:c.errorCodes.phone.badFormat}:{result:!0,value:a}},email:function(a){var b=typeof a;return"string"!==b?{result:!1,error:c.errorCodes.email.badType}:(e.cleanInputs&&(a=a.replace(/^\s+|\s+$/gm,""),a=a.toLowerCase()),g.isEmail(a)?{result:!0,value:a}:{result:!1,error:c.errorCodes.email.badFormat})}},n=function(a,b){if(a&&a.code==c.errorCodes.main.notValid.code)for(var d=0;d<b.length;d++)!b[d].result&&b[d].error&&b[d].errorMessage&&b[d].error.code>=400&&b[d].error.code<500&&(b[d].error.message=b[d].errorMessage);return b},o=function(a,b){for(var d=c.validateFields(a),f=[],g=0;g<d.fields.length;g++)null===d.fields[g].result&&f.push(d.fields[g]);f.length>0?c.verifyFields(f,function(a){var c;if(e.ignoreServerErrors&&!a.result&&a.error&&a.error.code>=500&&a.error.code<600&&(a.result=!0,a.error=null),c=d.result?a.error:d.error,a.fields)for(var f=0;f<a.fields.length;f++)for(var g=0;g<d.fields.length;g++)if(d.fields[g].id===a.fields[f].id){d.fields[g]=a.fields[f];break}d.fields=n(c,d.fields),i.postProcess(d.fields),b(c,d.fields)}):(d.fields=n(d.error,d.fields),i.postProcess(d.fields),b(d.error,d.fields))};c.validateFields=function(a){var b=!0,d=null;if(a&&"object"==typeof a&&a.length)for(var e=0;e<a.length;e++){var f=a[e];if(f&&"object"==typeof f&&f.id&&f.type)if(a[e].result=null,"undefined"!=typeof f.value&&f.value.length)if("function"==typeof m[f.type]){var g=m[f.type](f.value);if(!g.result){for(var h in g)a[e][h]=g[h];b=!1,d=c.errorCodes.main.notValid}}else a[e].result=!0;else f.required?(a[e].result=!1,a[e].error=c.errorCodes.main.required,b=!1,d=c.errorCodes.main.notValid):a[e].result=!0;else d=c.errorCodes.main.badData,b=!1}else d=c.errorCodes.main.badData,b=!1;return{result:b,error:d,fields:a}},c.verifyFields=function(a,b){var c=d&&(e.apiKey||e.useSSL)?!0:!1;l({scheme:c?"https":"http",host:f.host,port:c?f.sslPort:f.port,path:f.path},{fields:a,options:e},b)},c.login=function(a,b,c){l({scheme:d?"https":"http",host:f.host,port:d?f.sslPort:f.port,path:f.loginPath},{username:a,apiKey:b},c)},c.init=function(a,b){j(a),i.init(b,c)},c.verify=function(a,b){a=i.parse(a,c),o(a,b)},c.isTypeSupported=function(a){return m[a]?!0:!1}},{"./lib/node/form":"EkpMeO","./lib/node/http-client":"BX/C5g",validator:7}],7:[function(b,c){!function(b,d){"undefined"!=typeof c?c.exports=d():"function"==typeof a&&"object"==typeof a.amd?a(d):this[b]=d()}("validator",function(a){"use strict";a={version:"3.2.1"};var b=/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,c=/^(?!mailto:)(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))|localhost)(?::\d{2,5})?(?:\/[^\s]*)?$/i,d=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,e=/^(?:[0-9]{9}X|[0-9]{10})$/,f=/^(?:[0-9]{13})$/,g=/^(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)\.(\d?\d?\d)$/,h=/^::|^::1|^([a-fA-F0-9]{1,4}::?){1,7}([a-fA-F0-9]{1,4})$/,i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},j=/^[a-zA-Z]+$/,k=/^[a-zA-Z0-9]+$/,l=/^-?[0-9]+$/,m=/^(?:-?(?:0|[1-9][0-9]*))$/,n=/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,o=/^[0-9a-fA-F]+$/,p=/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;return a.extend=function(b,c){a[b]=function(){var b=Array.prototype.slice.call(arguments);return b[0]=a.toString(b[0]),c.apply(a,b)}},a.noCoerce=["toString","toDate","extend","init"],a.init=function(){for(var b in a)"function"!=typeof a[b]||a.noCoerce.indexOf(b)>=0||a.extend(b,a[b])},a.toString=function(a){return null===a||"undefined"==typeof a||isNaN(a)&&!a.length?a="":"object"==typeof a&&a.toString?a=a.toString():"string"!=typeof a&&(a+=""),a},a.toDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)?a:(a=Date.parse(a),isNaN(a)?null:new Date(a))},a.toFloat=function(a){return parseFloat(a)},a.toInt=function(a,b){return parseInt(a,b||10)},a.toBoolean=function(a,b){return b?"1"===a||"true"===a:"0"!==a&&"false"!==a&&""!==a},a.equals=function(b,c){return b===a.toString(c)},a.contains=function(b,c){return b.indexOf(a.toString(c))>=0},a.matches=function(a,b,c){return"[object RegExp]"!==Object.prototype.toString.call(b)&&(b=new RegExp(b,c)),b.test(a)},a.isEmail=function(a){return b.test(a)},a.isURL=function(a){return a.length<2083&&c.test(a)},a.isIP=function(b,c){if(c=a.toString(c),!c)return a.isIP(b,4)||a.isIP(b,6);if("4"===c){if(!g.test(b))return!1;var d=b.split(".").sort();return d[3]<=255}return"6"===c&&h.test(b)},a.isAlpha=function(a){return j.test(a)},a.isAlphanumeric=function(a){return k.test(a)},a.isNumeric=function(a){return l.test(a)},a.isHexadecimal=function(a){return o.test(a)},a.isHexColor=function(a){return p.test(a)},a.isLowercase=function(a){return a===a.toLowerCase()},a.isUppercase=function(a){return a===a.toUpperCase()},a.isInt=function(a){return m.test(a)},a.isFloat=function(a){return""!==a&&n.test(a)},a.isDivisibleBy=function(b,c){return a.toFloat(b)%a.toInt(c)===0},a.isNull=function(a){return 0===a.length},a.isLength=function(a,b,c){return a.length>=b&&("undefined"==typeof c||a.length<=c)},a.isUUID=function(a,b){var c=i[b?b:"all"];return c&&c.test(a)},a.isDate=function(a){return!isNaN(Date.parse(a))},a.isAfter=function(b,c){var d=a.toDate(c||new Date),e=a.toDate(b);return e&&d&&e>d},a.isBefore=function(b,c){var d=a.toDate(c||new Date),e=a.toDate(b);return e&&d&&d>e},a.isIn=function(b,c){if(!c||"function"!=typeof c.indexOf)return!1;if("[object Array]"===Object.prototype.toString.call(c)){for(var d=[],e=0,f=c.length;f>e;e++)d[e]=a.toString(c[e]);c=d}return c.indexOf(b)>=0},a.isCreditCard=function(a){var b=a.replace(/[^0-9]+/g,"");if(!d.test(b))return!1;for(var c,e,f,g=0,h=b.length-1;h>=0;h--)c=b.substring(h,h+1),e=parseInt(c,10),f?(e*=2,g+=e>=10?e%10+1:e):g+=e,f=!f;return g%10===0?b:!1},a.isISBN=function(b,c){if(c=a.toString(c),!c)return a.isISBN(b,10)||a.isISBN(b,13);var d,g=b.replace(/[\s-]+/g,""),h=0;if("10"===c){if(!e.test(g))return!1;for(d=0;9>d;d++)h+=(d+1)*g.charAt(d);if(h+="X"===g.charAt(9)?100:10*g.charAt(9),h%11===0)return g}else if("13"===c){if(!f.test(g))return!1;var i=[1,3];for(d=0;12>d;d++)h+=i[d%2]*g.charAt(d);if(g.charAt(12)-(10-h%10)%10===0)return g}return!1},a.ltrim=function(a,b){var c=b?new RegExp("^["+b+"]+","g"):/^\s+/g;return a.replace(c,"")},a.rtrim=function(a,b){var c=b?new RegExp("["+b+"]+$","g"):/\s+$/g;return a.replace(c,"")},a.trim=function(a,b){var c=b?new RegExp("^["+b+"]+|["+b+"]+$","g"):/^\s+|\s+$/g;return a.replace(c,"")},a.escape=function(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},a.whitelist=function(a,b){return a.replace(new RegExp("[^"+b+"]+","g"),"")},a.blacklist=function(a,b){return a.replace(new RegExp("["+b+"]+","g"),"")},a.init(),a})},{}]},{},[6])(6)});